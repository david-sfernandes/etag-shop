<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tagshop</title>
    <link rel="stylesheet" href="https://use.typekit.net/jwa3agu.css" />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Radio+Canada:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
  </head>
  <body>
    <style>
  header {
    height: 100px;
    width: 100vw;
    background-color: transparent;
    color: white;
    display: grid;
    align-items: center;
    padding-inline: 6vw;
    grid-template-columns: 1fr 0fr;
    align-content: center;
  }

  header a:visited,
  header a:link {
    text-decoration: none;
    color: var(--primary-gray);
    z-index: 2;
  }

  .home-link {
    font-size: 40px;
  }

  .btn-bag {
    --box-dimension: 40px;
    width: var(--box-dimension);
    height: var(--box-dimension);
  }

  .img-bag {
    width: 100%;
    height: 100%;
    filter: invert(var(--header-filter));
  }
  
</style>

<header>
  <a href="/" rel="home" class="home-link">
    tagshop
  </a>
  <a href="../cart" class="btn-bag">
    <img class="img-bag" src="../../images/bag.svg" alt="bag">
  </a>
</header>

    <!-- Content -->
    <main>
      <style>
  :root{
    --header-filter: 0;
  }
  section {
    min-height: 90vh;
  }

  .initial-banner {
    width: 100vw;
    margin-top: -100px;
    overflow: hidden;
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
    background-color: #80808024;
  }

  .initial-banner-text {
    margin: auto;
    position: relative;
    width: 70vw;
    padding: 0px 6vw;
  }

  .initial-banner-text h1 {
    font-size: 35px;
  }

  .initial-banner-img {
    --img-dimension: 450px;
    width: var(--img-dimension);
    height: var(--img-dimension);
    margin-bottom: -395px;
    margin-left: -280px;
    z-index: 2;
  }

  .blob {
    position: absolute;
    background: var(--primary-gray);
    height: 90vh;
    width: 35vw;
    z-index: 1;
    right: 0;
  }

  .products {
    display: grid;
    gap: 6rem 2rem;
    grid-template-columns: repeat(auto-fill, 320px);
    justify-content: center;
    padding: 5rem 2rem;
  }

  .product {
    display: flex;
    flex-direction: column;
    padding: 10px;
    width: 320px;
    align-content: center;
    gap: 0.5rem;
    transition-delay: .3s;
    padding-bottom: 1.1rem;
  }

  .product:hover {
    background-color: rgb(128 128 128 / 20%);
    box-shadow: 4px 4px 9px #0c0c0c40;
  }


  .product .product-img-filter {
    width: 300px;
    height: 350px;
    overflow: hidden;
  }

  .product img {
    min-height: 100%;
    width: 100%;
    object-fit: cover;
    object-position: top right;
    margin: auto;
  }

  .product h3 {
    font-size: 1rem;
    font-variant: small-caps;
    font-weight: normal;
    letter-spacing: 0.15em;
    margin: 1rem 0 0;
    text-transform: lowercase;
  }

  .product button:hover {
    filter: grayscale(0.5);
  }
</style>

<section class="initial-banner">
  <div class="initial-banner-text">
    <h1>Procurando móvel novo?</h1>
    <h3>Na tagshop você não encontra!</h3>
    <p>Tagshop! Seu fake-commerce favorito.</p>
  </div>
  <img class="initial-banner-img" src="./images/oak-chair.png" alt="">
  <div class="blob"></div>
</section>
<section class="products">
  <template class="product-template">
    <div class="product">
      <a href="#" style="text-decoration: none;">
        <div class="product-img-filter">
          <img src="" alt="">
        </div>


        <h2></h2>
        <h4></h4>
      </a>
    </div>

  </template>
</section>

<script>
  async function initialize() {
    const products = await fetch('/.netlify/functions/products')
      .then((response) => response.json());

    const container = document.querySelector('.products');
    const template = document.querySelector('.product-template');

    products.forEach(product => {
      const element = template.content.cloneNode(true);

      const img = element.querySelector('img');
      img.src = product.img;
      img.alt = product.name;

      element.querySelector('h2').innerText = product.name.toUpperCase();
      element.querySelector('h4').innerText = `R$ ${product.price},00`;
      element.querySelector('a').href = `../product/${product.id}`

      container.appendChild(element);
    });
  }

  initialize()
</script>
    </main>

    <style>
  footer {
    background: var(--primary-gray);
    padding: 1rem 5vw;
    position: relative;
    text-align: center;
    width: 100vw;
    bottom: 0;
    height: 35vh;
  }

  footer *{
    color: white;
  }

  footer p{
    font-size: 12px;
  }

  footer a {
    font-size: 40px;
    display: block;
    margin: 0.5rem;
    padding: 0.5rem;
    text-decoration: none;
  }

  footer a:active,
  footer a:focus,
  footer a:hover {
    color: white;
  }
</style>

<footer>
  <a href="/">tagshop</a>
  <h4>Atenção! Ambiente para teste.</h4>
  <p>Nenhuma compra realizada neste site é valida/real.</p>
</footer>

  </body>
</html>
